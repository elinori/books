


<div>
<h1>My Books</h1>
<div class="form-group">
  <label>serch book:
  <input class="form-control" placeholder="Search book"  type="text" [(ngModel)]="searchBook" >
  </label>
</div>


   <table class="table table-hover">
        <thead>
    <tr >
      <th>Title</th>
      <th>Auther</th>
      <th>Date</th>

    </tr>
  </thead>

  <tbody>
    <tr  style="width:20%"  *ngFor="let book of books|filter:searchBook;  let i = index "  [class.active]="i == selectedRow">
      <td *ngIf="selectedRow!=i">{{book.title}}</td>
      <td *ngIf="selectedRow==i" ><input  [(ngModel)]="book.title"  type= "text"  /></td>
      
  

      <td *ngIf="selectedRow!=i">{{book.auther}}</td>
      <td  *ngIf="selectedRow==i"><input  [(ngModel)]="book.auther" type="text" />
</td>
      <td *ngIf="i!=selectedRow">{{book.date}}</td>
      <td *ngIf="i==selectedRow"> <input type="date"  [(ngModel)]="book.date"   />
</td>

<td *ngIf="i!=selectedRow" >  <button type="button"  (click)="setClickedRow(i,book) " class="btn btn-info btn-lg">edit</button>


</td>
<td *ngIf="i==selectedRow" >  <button type="submit"  (click)="saveBook(book)" class="btn btn-info btn-lg" data-toggle="modal" data-target="#myModal">save</button>  </td>
<td *ngIf="i==selectedRow">  <button type="submit" (click)="delete(i)" class="btn btn-info btn-lg" >delete</button></td>

    </tr>
  </tbody>
</table>

    <div class="modal fade" id="myModal" role="dialog">
    <div class="modal-dialog">
    

      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">Your book</h4>
        </div>
        <div class="modal-body">
        <span>  <h3>title:</h3> {{popUp.title}}</span>
                    <h3>auther:</h3> <span>{{popUp.auther}}</span>
                    <h3>date:</h3> <span>{{popUp.date}}</span>

        </div>
        <div class="modal-footer">


        </div>
      </div>
      
    </div>
  </div>
    
    
    
          <div *ngIf="isInvalid" class="alert alert-danger">  title / auther / date is incorrect please try again ! </div>
      <div *ngIf="isSucsees" class="alert alert-success"> the book is added :)</div>
<div>
<h1>Add Book</h1>
<table class="table table-hover">
  <thead>
<tr >
<th>Title</th>
<th>Auther</th>
<th>Date</th>

</tr>
</thead>

<tbody>
<tr>
<td  >  <input  placeholder="enter title"   type="text" [(ngModel)]="title" required>
</td>
<td >  <input placeholder="enter auther"   type="text" [(ngModel)]="auther" required>
</td>
<td>  <input   type="date" [(ngModel)]="date" required>
</td>
<td><button   type="button" (click)="addBook(title,auther,date)" class="btn btn-info btn-lg" >add book</button>     
</td>
<td><button   type="button" (click)="clear()" class="btn btn-info btn-lg" >clear</button>
</td>
</tr>
</tbody>
</table>




